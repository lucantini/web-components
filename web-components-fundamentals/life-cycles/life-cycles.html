<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Web Components</title>
</head>
<script>
	class MyCustomElement extends HTMLElement {
		constructor() {
			super();
			console.log('MyCustomElement constructed!')
		};
		connectedCallback() {
			console.log('MyCustomElement added to the DOM!');
		}
		static get observedAttributes() {
			return ['demo'];
		}
		attributeChangedCallback(name, oldValue, newValue) {
			console.log('Attribute changed!', name, oldValue, newValue);
		}
		disconnectedCallback() {
			console.log('MyCustomElement removed from the DOM!');
		}
	}
	window.customElements.define('my-custom-element', MyCustomElement);

	let $ce = document.createElement('my-custom-element');
	setTimeout(() => {
		document.body.appendChild($ce);
	}, 2000);
	setTimeout(() => {
		$ce.setAttribute('demo', '123');
	}, 4000);
	setTimeout(() => {
		$ce.remove();
	}, 6000);
</script>
<body>
</body>
</html>